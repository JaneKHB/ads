(this["webpackJsonpcras-project"]=this["webpackJsonpcras-project"]||[]).push([[0],{116:function(e,t,n){},155:function(e,t,n){},188:function(e,t,n){"use strict";n.r(t);var r,a=n(0),c=n(31),s=n.n(c),i=n(75),o=(n(116),n(154),n(155),n(29)),u=n(11),l=n(26),j=n(2),b=n(4),d=n(190),h=n(98),p=n(194),f="/api/v1/sys/config",O=f+"/username",m=f+"/monitor",x=f+"/rapid",g="/main",v={CONFIG:g+"/config",BRIEF:g+"/brief",NOT_FOUND:g+"/notfound"},y=n(130),C=n.n(y).a.create(),k=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){var n,r,a;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(t);case 2:return n=e.sent,r=n.data,a=n.status,e.abrupt("return",{status:a,info:r.config});case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),I=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t){var n,r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.get(t);case 2:return n=e.sent,r=n.data,e.abrupt("return",r);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),S=function(){var e=Object(l.a)(Object(u.a)().mark((function e(t,n){var r;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,C.post(t,n);case 2:return r=e.sent,e.abrupt("return",{status:r});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}(),w=n(7),N=d.a.Header,R=d.a.Content,F=d.a.Footer,L=[{label:"Config",key:v.CONFIG},{label:"Brief",key:v.BRIEF}],M=function(e){var t=Object(a.useState)("-"),n=Object(b.a)(t,2),r=n[0],c=n[1],s=Object(o.g)(),i=Object(o.h)().pathname,f=Object(a.useMemo)((function(){var e,t;return null!==(e=(t={},Object(j.a)(t,v.CONFIG,"Config"),Object(j.a)(t,v.BRIEF,"Brief"),t)[i])&&void 0!==e?e:""}),[i]),O=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,I("/api");case 3:t=e.sent,c(t),e.next=11;break;case 7:e.prev=7,e.t0=e.catch(0),console.error(e.t0),c("-");case 11:case"end":return e.stop()}}),e,null,[[0,7]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){O().then((function(e){return e}))}),[]),Object(w.jsxs)(d.a,{className:"layout",children:[Object(w.jsx)(N,{children:Object(w.jsxs)("div",{className:"layout-header",children:[Object(w.jsx)("div",{className:"logo",onClick:function(){s.push(v.CONFIG)},children:"CRAS Server"}),Object(w.jsx)(h.a,{onClick:function(e){return function(e){var t=e.key;s.push(t)}(e)},selectedKeys:[i],mode:"horizontal",items:L,theme:"dark"})]})}),Object(w.jsxs)(R,{style:{padding:"0 50px"},children:[Object(w.jsx)("div",{className:"site-layout-breadcrumb",children:Object(w.jsxs)(p.a,{separator:">",style:{margin:"16px 0"},children:[Object(w.jsx)(p.a.Item,{className:"breadcrumb-home",onClick:function(){s.push(v.CONFIG)},children:"CRAS Server"}),Object(w.jsx)(p.a.Item,{children:f})]})}),Object(w.jsx)("div",{className:"site-layout-content",children:e.children})]}),Object(w.jsxs)(F,{className:"layout-footer",children:[Object(w.jsx)("span",{children:"CRAS Server Version: ".concat(r)}),Object(w.jsx)("span",{children:"Copyright (c) 2021-2023 CANON Inc. All rights reserved."})]})]})},A=(n(126),n(191)),B=n(196),E=n(51),_=n(133),G=n(3),V=n(192),U=n(195),D=n(193),W=n(147),H=function(e){var t=e.name,n=e.e;W.a.error({message:t+" "+n.name,description:n.message,placement:"topLeft",top:70})},J=n(60),T=n(138),Y={"Log Monitor":m},q="If you change this server,\nyou must restart CRAS Server.";function z(e){var t=e.selectDB,n=e.visible,r=e.setVisible,c=e.refresh,s=V.a.useForm(),i=Object(b.a)(s,1)[0],o=Object(a.useState)(!1),j=Object(b.a)(o,2),d=j[0],h=j[1],p=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var n,r,a,c,s,o,l;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return h(!0),e.prev=1,e.next=4,k(Y[t.name]);case 4:n=e.sent,r=n.info,a=r.host,c=r.port,s=r.user,o=r.dbname,l=r.schema,i.setFieldsValue({host:a,port:c,user:s,dbname:o,schema:l}),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.error(e.t0);case 12:return e.prev=12,h(!1),e.finish(12);case 15:case"end":return e.stop()}}),e,null,[[1,9,12,15]])})));return function(){return e.apply(this,arguments)}}(),f=function(){r(!1),c()},O=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var n;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(G.a)({},i.getFieldsValue()),e.prev=1,e.next=4,S(Y[t.name],n);case 4:e.next=10;break;case 6:e.prev=6,e.t0=e.catch(1),console.error(e.t0),H({name:"submit ",e:e.t0});case 10:return e.prev=10,f(),setTimeout((function(){U.a.success({title:Object(w.jsx)(K,{children:"Restart CRAS Server"}),content:q})}),300),e.finish(10);case 14:case"end":return e.stop()}}),e,null,[[1,6,10,14]])})));return function(){return e.apply(this,arguments)}}(),m=Object(a.useMemo)((function(){return Object(w.jsxs)("div",{style:{display:"flex",alignItems:"center"},children:[Object(w.jsx)("div",{style:{marginRight:"1rem",fontWeight:"bold"},children:t.name}),d&&Object(w.jsx)(J.a,{style:{color:"blue"}})]})}),[t.name,d]);return Object(a.useEffect)((function(){n&&p().then((function(e){return e}))}),[n]),Object(w.jsx)(w.Fragment,{children:Object(w.jsxs)(U.a,{style:{fontWeight:"bold"},destroyOnClose:!0,title:m,open:n,footer:[Object(w.jsx)(E.a,{onClick:f,children:"Cancel"},"back"),Object(w.jsx)(E.a,{type:"primary",onClick:i.submit,children:"Submit"},"submit")],onCancel:f,children:[Object(w.jsx)("p",{className:"modal-info",children:t.info}),Object(w.jsx)(V.a,{form:i,layout:"vertical",onFinish:O,children:Object(w.jsx)(V.a.Item,{label:"host",name:"host",rules:[{required:!0}],children:Object(w.jsx)(D.a,{name:"host",disabled:d})})})]})})}var K=T.a.div(r||(r=Object(_.a)(["\n  font-weight: 600;\n"]))),P=n(197),Q=n(198);var X=function(e){var t=e.name;return Object(w.jsx)("div",{style:{display:"flex",alignItems:"center"},children:Object(w.jsx)("div",{style:{marginRight:"1rem"},children:t})})},Z=function(){var e=function(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(!1),s=Object(b.a)(c,2),i=s[0],o=s[1],j=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o(!0),e.prev=1,e.next=4,k(m);case 4:t=e.sent,r(t.info),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(1),H({name:"Log Monitor",e:e.t0});case 11:o(!1);case 12:case"end":return e.stop()}}),e,null,[[1,8]])})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){j()}),[]),{logMonitor:n,loadingLogMonitor:i,getLogMonitor:j}}(),t=e.logMonitor,n=e.loadingLogMonitor,r=e.getLogMonitor,c=Object(a.useState)(!1),s=Object(b.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)({name:"",info:""}),d=Object(b.a)(j,2),h=d[0],p=d[1];return Object(w.jsxs)("div",{children:[Object(w.jsx)(A.a,{tip:"Loading...",spinning:n,children:Object(w.jsxs)(B.b,{column:2,title:Object(w.jsx)(X,{name:"Log Monitor",loading:n}),bordered:!0,style:{marginBottom:"70px"},extra:[Object(w.jsx)(E.a,{icon:Object(w.jsx)(P.a,{}),style:{marginRight:"0.5rem"},onClick:function(){return r()},disabled:n},"refresh"),Object(w.jsx)(E.a,{disabled:n,icon:Object(w.jsx)(Q.a,{}),type:"primary",onClick:function(){o(!0),p({name:"Log Monitor",info:"Converting and CRAS judgement rules are going to be defined this server.\n                  If you change this server, you must restart CRAS Server."})},children:"Edit"},"edit")],children:[Object(w.jsx)(B.b.Item,{label:"host",className:"label-name",span:2,children:t.host},"lm_host"),Object(w.jsx)(B.b.Item,{label:"information",span:2,children:"Converting and CRAS judgement rules are going to be defined this server. If you change this server, you must restart CRAS Server."},"lm_information")]})}),Object(w.jsx)(z,{selectDB:h,refresh:r,visible:i,setVisible:o})]})};function $(){var e=Object(a.useState)(""),t=Object(b.a)(e,2),n=t[0],r=t[1],c=Object(a.useState)(""),s=Object(b.a)(c,2),i=s[0],o=s[1],j=Object(a.useState)(!1),d=Object(b.a)(j,2),h=d[0],p=d[1],f=Object(a.useState)(!1),m=Object(b.a)(f,2),g=m[0],v=m[1],y=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return p(!0),e.next=3,k(O);case 3:t=e.sent,r(t.info),p(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),C=function(){var e=Object(l.a)(Object(u.a)().mark((function e(){var t;return Object(u.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return v(!0),e.next=3,k(x);case 3:t=e.sent,o(t.info),v(!1);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(a.useEffect)((function(){y(),C()}),[]),{username:n,rapidCollector:i,loadingUsername:h,loadingRapid:g}}var ee=function(){var e=$(),t=e.username,n=e.rapidCollector,r=e.loadingUsername,a=e.loadingRapid;return Object(w.jsxs)("div",{children:[Object(w.jsx)(A.a,{tip:"Loading...",spinning:r,children:Object(w.jsxs)(B.b,{title:"User Name",bordered:!0,column:2,style:{marginBottom:"70px"},children:[Object(w.jsx)(B.b.Item,{label:"username",span:2,children:t},"username"),Object(w.jsx)(B.b.Item,{label:"information",span:2,children:"You cannot change user name in this page. If you want to change this, use Log-Monitor."},"info")]})}),Object(w.jsx)(A.a,{tip:"Loading...",spinning:a,children:Object(w.jsxs)(B.b,{column:3,title:"Rapid Collector",bordered:!0,children:[Object(w.jsx)(B.b.Item,{label:"host",span:2,children:n.host},"host"),Object(w.jsx)(B.b.Item,{label:"port",span:2,children:n.port},"port"),Object(w.jsx)(B.b.Item,{label:"user",span:4,children:n.user},"user"),Object(w.jsx)(B.b.Item,{label:"information",span:4,children:"You cannot change Rapid Collector information in this page. If you want to change this, use Log-Monitor."},"information")]})})]})},te=n.p+"static/media/page_not_found.694b4357.png",ne=function(){var e=Object(o.g)();return Object(w.jsxs)("div",{children:[Object(w.jsx)("img",{style:{width:"50%",display:"block",margin:"0px auto"},src:te,alt:"page_not_found"}),Object(w.jsx)("h1",{style:{textAlign:"center",fontWeight:"bold"},children:"Page Not Found"}),Object(w.jsx)(E.a,{type:"primary",style:{display:"block",margin:"0px auto"},onClick:function(){e.push(v.CONFIG)},children:"Home"})]})};var re=function(){return Object(w.jsx)("div",{children:Object(w.jsx)(M,{children:Object(w.jsxs)(o.d,{children:[Object(w.jsx)(o.b,{path:["/","/main"],exact:!0,children:Object(w.jsx)(o.a,{to:"/main/config"})}),Object(w.jsx)(o.b,{path:["/main/config"],component:Z,exact:!0}),Object(w.jsx)(o.b,{path:["/main/brief"],component:ee}),Object(w.jsx)(o.b,{path:"/main/notfound",component:ne}),Object(w.jsx)(o.b,{children:Object(w.jsx)(o.a,{to:"/main/notfound"})})]})})})};s.a.render(Object(w.jsx)(i.a,{children:Object(w.jsx)(re,{})}),document.getElementById("root"))}},[[188,1,2]]]);